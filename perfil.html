<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Perfil - Checkpoint</title>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;500;600;700&family=Press+Start+2P&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="styles.css">
  <style>
    /* Container principal do perfil */
    .profile-wrapper {
      display: flex;
      margin-top: 64px;
      min-height: calc(100vh - 64px);
    }

    /* Sidebar de navega√ß√£o */
    .profile-sidebar {
      width: 280px;
      background: rgba(250, 247, 238, 0.05);
      border-right: 1px solid rgba(250, 247, 238, 0.1);
      padding: 40px 0;
      position: sticky;
      top: 64px;
      height: calc(100vh - 64px);
      overflow-y: auto;
    }

    .sidebar-nav {
      display: flex;
      flex-direction: column;
      gap: 8px;
      padding: 0 20px;
    }

    .sidebar-nav-item {
      padding: 16px 20px;
      border-radius: 10px;
      font-family: 'Montserrat', sans-serif;
      font-size: 15px;
      font-weight: 600;
      color: rgba(250, 247, 238, 0.7);
      cursor: pointer;
      transition: all 0.3s ease;
      display: flex;
      align-items: center;
      gap: 12px;
      border: 2px solid transparent;
    }

    .sidebar-nav-item:hover {
      background: rgba(250, 247, 238, 0.08);
      color: #FAF7EE;
    }

    .sidebar-nav-item.active {
      background: rgba(0, 85, 65, 0.3);
      color: #FAF7EE;
      border-color: rgba(255, 215, 0, 0.3);
    }

    .sidebar-nav-icon {
      font-size: 20px;
    }

    /* Conte√∫do principal */
    .profile-content {
      flex: 1;
      padding: 40px;
      max-width: 1400px;
      margin: 0 auto;
      width: 100%;
    }

    /* Se√ß√µes do conte√∫do */
    .content-section {
      display: none;
      animation: fadeIn 0.4s ease;
    }

    .content-section.active {
      display: block;
    }

    @keyframes fadeIn {
      from {
        opacity: 0;
        transform: translateY(20px);
      }
      to {
        opacity: 1;
        transform: translateY(0);
      }
    }

    /* ===== SE√á√ÉO PERFIL ===== */
    /* Hero Section */
    .profile-hero {
      position: relative;
      height: 280px;
      border-radius: 16px;
      overflow: hidden;
      margin-bottom: 100px;
      background: linear-gradient(135deg, #003d2e 0%, #005541 100%);
    }

    .profile-hero-cover {
      width: 100%;
      height: 100%;
      object-fit: cover;
      opacity: 0.3;
    }

    .profile-avatar-container {
      position: absolute;
      bottom: -80px;
      left: 40px;
      display: flex;
      align-items: flex-end;
      gap: 24px;
    }

    .profile-avatar {
      width: 160px;
      height: 160px;
      border-radius: 50%;
      border: 6px solid #005541;
      background: linear-gradient(135deg, #005541, #FFD700);
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 64px;
      box-shadow: 0 8px 24px rgba(0, 0, 0, 0.5);
    }

    .profile-avatar img {
      width: 100%;
      height: 100%;
      border-radius: 50%;
      object-fit: cover;
    }

    .profile-hero-info {
      margin-bottom: 20px;
    }

    .profile-username {
      font-family: 'Press Start 2P', cursive;
      font-size: 1.8rem;
      color: #FAF7EE;
      margin-bottom: 8px;
    }

    .profile-email {
      font-family: 'Montserrat', sans-serif;
      font-size: 14px;
      color: rgba(250, 247, 238, 0.6);
    }

    /* Informa√ß√µes edit√°veis */
    .profile-info-card {
      background: rgba(250, 247, 238, 0.05);
      border-radius: 12px;
      padding: 32px;
      border: 1px solid rgba(250, 247, 238, 0.1);
      margin-bottom: 32px;
    }

    .profile-info-card h2 {
      font-family: 'Montserrat', sans-serif;
      font-size: 1.5rem;
      color: #FAF7EE;
      margin-bottom: 24px;
      display: flex;
      align-items: center;
      gap: 10px;
    }

    .profile-info-card h2::before {
      content: '';
      width: 4px;
      height: 24px;
      background: #FFD700;
      border-radius: 2px;
    }

    .profile-form {
      display: flex;
      flex-direction: column;
      gap: 20px;
    }

    .form-group {
      display: flex;
      flex-direction: column;
      gap: 8px;
    }

    .form-label {
      font-family: 'Montserrat', sans-serif;
      font-size: 13px;
      font-weight: 600;
      color: rgba(250, 247, 238, 0.7);
      text-transform: uppercase;
      letter-spacing: 0.5px;
    }

    .form-input {
      padding: 12px 16px;
      background: rgba(250, 247, 238, 0.08);
      border: 2px solid rgba(250, 247, 238, 0.2);
      border-radius: 8px;
      font-family: 'Montserrat', sans-serif;
      font-size: 15px;
      color: #FAF7EE;
      transition: all 0.3s ease;
    }

    .form-input:focus {
      outline: none;
      border-color: #FFD700;
      background: rgba(250, 247, 238, 0.12);
    }

    .form-input:disabled {
      opacity: 0.5;
      cursor: not-allowed;
    }

    .form-actions {
      display: flex;
      gap: 12px;
      margin-top: 8px;
    }

    .btn {
      padding: 12px 24px;
      border-radius: 8px;
      font-family: 'Montserrat', sans-serif;
      font-size: 14px;
      font-weight: 600;
      cursor: pointer;
      transition: all 0.3s ease;
      border: 2px solid;
    }

    .btn-primary {
      background: #005541;
      border-color: #005541;
      color: #FAF7EE;
    }

    .btn-primary:hover {
      background: #007556;
      border-color: #007556;
      transform: translateY(-2px);
    }

    .btn-secondary {
      background: transparent;
      border-color: rgba(250, 247, 238, 0.3);
      color: #FAF7EE;
    }

    .btn-secondary:hover {
      background: rgba(250, 247, 238, 0.1);
      border-color: #FAF7EE;
    }

    /* Estat√≠sticas */
    .stats-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
      gap: 20px;
      margin-bottom: 32px;
    }

    .stat-card {
      background: rgba(250, 247, 238, 0.05);
      border-radius: 12px;
      padding: 24px;
      border: 1px solid rgba(250, 247, 238, 0.1);
      text-align: center;
      transition: all 0.3s ease;
    }

    .stat-card:hover {
      background: rgba(250, 247, 238, 0.08);
      transform: translateY(-4px);
    }

    .stat-number {
      font-family: 'Press Start 2P', cursive;
      font-size: 2rem;
      color: #FFD700;
      margin-bottom: 8px;
    }

    .stat-label {
      font-family: 'Montserrat', sans-serif;
      font-size: 13px;
      color: rgba(250, 247, 238, 0.6);
      text-transform: uppercase;
      letter-spacing: 0.5px;
    }

    /* ===== SE√á√ÉO ATIVIDADE ===== */
    .activity-header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-bottom: 32px;
      flex-wrap: wrap;
      gap: 20px;
    }

    .activity-header h1 {
      font-family: 'Press Start 2P', cursive;
      font-size: 1.8rem;
      color: #FAF7EE;
    }

    .activity-filters {
      display: flex;
      gap: 12px;
      flex-wrap: wrap;
    }

    .filter-btn {
      padding: 10px 20px;
      background: rgba(250, 247, 238, 0.05);
      border: 2px solid rgba(250, 247, 238, 0.2);
      border-radius: 8px;
      font-family: 'Montserrat', sans-serif;
      font-size: 13px;
      font-weight: 600;
      color: rgba(250, 247, 238, 0.7);
      cursor: pointer;
      transition: all 0.3s ease;
    }

    .filter-btn:hover {
      background: rgba(250, 247, 238, 0.1);
      border-color: rgba(250, 247, 238, 0.4);
      color: #FAF7EE;
    }

    .filter-btn.active {
      background: rgba(255, 215, 0, 0.15);
      border-color: #FFD700;
      color: #FFD700;
    }

    /* Timeline de atividades */
    .activity-timeline {
      position: relative;
      padding-left: 40px;
    }

    .activity-timeline::before {
      content: '';
      position: absolute;
      left: 15px;
      top: 0;
      bottom: 0;
      width: 2px;
      background: rgba(250, 247, 238, 0.1);
    }

    .activity-item {
      position: relative;
      margin-bottom: 32px;
      padding: 20px;
      background: rgba(250, 247, 238, 0.05);
      border-radius: 12px;
      border: 1px solid rgba(250, 247, 238, 0.1);
      transition: all 0.3s ease;
    }

    .activity-item:hover {
      background: rgba(250, 247, 238, 0.08);
      transform: translateX(8px);
    }

    .activity-item::before {
      content: '';
      position: absolute;
      left: -33px;
      top: 28px;
      width: 12px;
      height: 12px;
      background: #FFD700;
      border-radius: 50%;
      border: 3px solid #005541;
    }

    .activity-content {
      display: flex;
      gap: 20px;
      align-items: flex-start;
    }

    .activity-poster {
      width: 80px;
      height: 120px;
      border-radius: 8px;
      object-fit: cover;
      flex-shrink: 0;
      box-shadow: 0 4px 12px rgba(0, 0, 0, 0.3);
    }

    .activity-details {
      flex: 1;
    }

    .activity-type {
      display: inline-block;
      padding: 4px 12px;
      background: rgba(255, 215, 0, 0.15);
      border: 1px solid rgba(255, 215, 0, 0.3);
      border-radius: 20px;
      font-family: 'Montserrat', sans-serif;
      font-size: 11px;
      font-weight: 600;
      color: #FFD700;
      text-transform: uppercase;
      margin-bottom: 8px;
    }

    .activity-text {
      font-family: 'Montserrat', sans-serif;
      font-size: 15px;
      color: #FAF7EE;
      margin-bottom: 8px;
      line-height: 1.6;
    }

    .activity-game-title {
      font-weight: 700;
      color: #FFD700;
    }

    .activity-timestamp {
      font-family: 'Montserrat', sans-serif;
      font-size: 12px;
      color: rgba(250, 247, 238, 0.5);
    }

    .no-activity {
      text-align: center;
      padding: 60px 20px;
      color: rgba(250, 247, 238, 0.6);
      font-family: 'Montserrat', sans-serif;
    }

    /* ===== SE√á√ÉO AMIGOS ===== */
    .friends-header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-bottom: 32px;
    }

    .friends-header h1 {
      font-family: 'Press Start 2P', cursive;
      font-size: 1.8rem;
      color: #FAF7EE;
    }

    .friends-search {
      padding: 10px 16px;
      background: rgba(250, 247, 238, 0.08);
      border: 2px solid rgba(250, 247, 238, 0.2);
      border-radius: 8px;
      font-family: 'Montserrat', sans-serif;
      font-size: 14px;
      color: #FAF7EE;
      width: 300px;
    }

    .friends-search:focus {
      outline: none;
      border-color: #FFD700;
    }

    .friends-grid {
      display: grid;
      grid-template-columns: repeat(auto-fill, minmax(200px, 1fr));
      gap: 20px;
    }

    .friend-card {
      background: rgba(250, 247, 238, 0.05);
      border-radius: 12px;
      padding: 24px;
      border: 1px solid rgba(250, 247, 238, 0.1);
      text-align: center;
      transition: all 0.3s ease;
      cursor: pointer;
    }

    .friend-card:hover {
      background: rgba(250, 247, 238, 0.08);
      transform: translateY(-4px);
      border-color: rgba(255, 215, 0, 0.3);
    }

    .friend-avatar {
      width: 80px;
      height: 80px;
      border-radius: 50%;
      background: linear-gradient(135deg, #005541, #FFD700);
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 32px;
      margin: 0 auto 16px;
      border: 3px solid rgba(250, 247, 238, 0.1);
    }

    .friend-avatar img {
      width: 100%;
      height: 100%;
      border-radius: 50%;
      object-fit: cover;
    }

    .friend-name {
      font-family: 'Montserrat', sans-serif;
      font-size: 15px;
      font-weight: 600;
      color: #FAF7EE;
      margin-bottom: 4px;
    }

    .friend-status {
      font-family: 'Montserrat', sans-serif;
      font-size: 12px;
      color: rgba(250, 247, 238, 0.5);
    }

    /* Responsividade */
    @media (max-width: 1024px) {
      .profile-sidebar {
        width: 240px;
      }
    }

    @media (max-width: 768px) {
      .profile-wrapper {
        flex-direction: column;
      }

      .profile-sidebar {
        width: 100%;
        height: auto;
        position: static;
        padding: 20px 0;
      }

      .sidebar-nav {
        flex-direction: row;
        overflow-x: auto;
        padding: 0 20px;
      }

      .sidebar-nav-item {
        white-space: nowrap;
      }

      .profile-content {
        padding: 20px;
      }

      .profile-avatar-container {
        left: 20px;
        bottom: -60px;
      }

      .profile-avatar {
        width: 120px;
        height: 120px;
        font-size: 48px;
      }

      .profile-username {
        font-size: 1.3rem;
      }

      .profile-hero {
        margin-bottom: 80px;
      }

      .activity-timeline {
        padding-left: 30px;
      }

      .activity-content {
        flex-direction: column;
      }

      .friends-header {
        flex-direction: column;
        align-items: flex-start;
        gap: 16px;
      }

      .friends-search {
        width: 100%;
      }
    }
  </style>
</head>
<body>
  <header class="topbar">
    <div class="logo-container">
      <img src="logo_checkpoint.png" alt="Checkpoint Logo" class="logo-img">
      <span class="site-name">CHECKPOINT</span>
    </div>
    <nav class="nav-container">
      <a href="inicio.html" class="nav-btn">In√≠cio</a>
      <a href="index.html" class="nav-btn">Jogos</a>
      <a href="listas.html" class="nav-btn">Listas</a>
      <a href="perfil.html" class="nav-btn active">Perfil</a>
    </nav>
  </header>

  <div class="profile-wrapper">
    <!-- Sidebar -->
    <aside class="profile-sidebar">
      <nav class="sidebar-nav">
        <div class="sidebar-nav-item active" data-section="perfil">
          <span class="sidebar-nav-icon">üë§</span>
          <span>Perfil</span>
        </div>
        <div class="sidebar-nav-item" data-section="atividade">
          <span class="sidebar-nav-icon">üìä</span>
          <span>Atividade</span>
        </div>
        <div class="sidebar-nav-item" data-section="amigos">
          <span class="sidebar-nav-icon">üë•</span>
          <span>Amigos</span>
        </div>
      </nav>
    </aside>

    <!-- Conte√∫do Principal -->
    <main class="profile-content">
      <!-- SE√á√ÉO: PERFIL -->
      <section class="content-section active" id="perfil-section">
        <!-- Hero -->
        <div class="profile-hero">
          <img src="https://via.placeholder.com/1400x280/003d2e/003d2e" alt="Capa" class="profile-hero-cover">
          <div class="profile-avatar-container">
            <div class="profile-avatar">
              <span>üéÆ</span>
            </div>
            <div class="profile-hero-info">
              <h1 class="profile-username" id="displayUsername">GamerPro2024</h1>
              <p class="profile-email" id="displayEmail">gamer@checkpoint.com</p>
            </div>
          </div>
        </div>

        <!-- Estat√≠sticas -->
        <div class="stats-grid">
          <div class="stat-card">
            <div class="stat-number" id="statGamesPlayed">42</div>
            <div class="stat-label">Jogos Jogados</div>
          </div>
          <div class="stat-card">
            <div class="stat-number" id="statReviews">18</div>
            <div class="stat-label">Avalia√ß√µes</div>
          </div>
          <div class="stat-card">
            <div class="stat-number" id="statLists">5</div>
            <div class="stat-label">Listas Criadas</div>
          </div>
          <div class="stat-card">
            <div class="stat-number" id="statAvgRating">4.2</div>
            <div class="stat-label">Nota M√©dia</div>
          </div>
        </div>

        <!-- Informa√ß√µes Edit√°veis -->
        <div class="profile-info-card">
          <h2>Informa√ß√µes do Perfil</h2>
          <form class="profile-form" id="profileForm">
            <div class="form-group">
              <label class="form-label">Nome de Usu√°rio</label>
              <input type="text" class="form-input" id="usernameInput" value="GamerPro2024" disabled>
            </div>
            <div class="form-group">
              <label class="form-label">Email</label>
              <input type="email" class="form-input" id="emailInput" value="gamer@checkpoint.com" disabled>
            </div>
            <div class="form-actions">
              <button type="button" class="btn btn-primary" id="editBtn">Editar Perfil</button>
              <button type="button" class="btn btn-secondary" id="saveBtn" style="display: none;">Salvar Altera√ß√µes</button>
              <button type="button" class="btn btn-secondary" id="cancelBtn" style="display: none;">Cancelar</button>
            </div>
          </form>
        </div>
      </section>

      <!-- SE√á√ÉO: ATIVIDADE -->
      <section class="content-section" id="atividade-section">
        <div class="activity-header">
          <h1>Minha Atividade</h1>
          <div class="activity-filters">
            <button class="filter-btn active" data-period="todas">Todas</button>
            <button class="filter-btn" data-period="hoje">Hoje</button>
            <button class="filter-btn" data-period="semana">Esta Semana</button>
            <button class="filter-btn" data-period="mes">Este M√™s</button>
          </div>
        </div>

        <div class="activity-filters" style="margin-bottom: 24px;">
          <button class="filter-btn active" data-type="todos">Todos os Tipos</button>
          <button class="filter-btn" data-type="avaliacao">Avalia√ß√µes</button>
          <button class="filter-btn" data-type="jogo-adicionado">Jogos Adicionados</button>
          <button class="filter-btn" data-type="lista">Listas</button>
        </div>

        <div class="activity-timeline" id="activityTimeline">
          <!-- Atividades ser√£o inseridas aqui -->
        </div>
      </section>

      <!-- SE√á√ÉO: AMIGOS -->
      <section class="content-section" id="amigos-section">
        <div class="friends-header">
          <h1>Meus Amigos</h1>
          <input type="text" class="friends-search" placeholder="Buscar amigos..." id="friendsSearch">
        </div>

        <div class="friends-grid" id="friendsGrid">
          <!-- Amigos ser√£o inseridos aqui -->
        </div>
      </section>
    </main>
  </div>

  <script>
    // ========================================
    // DADOS MOCKADOS (SUBSTITUIR POR API)
    // ========================================
    
    /* 
     * TODO: Conectar com backend
     * Endpoint esperado: GET /api/user/profile
     * Retorno esperado: { username, email, stats, activities, friends }
     */
    
    const userData = {
      username: "GamerPro2024",
      email: "gamer@checkpoint.com",
      avatar: "üéÆ",
      stats: {
        gamesPlayed: 42,
        reviews: 18,
        lists: 5,
        avgRating: 4.2
      }
    };

    const activitiesData = [
      {
        id: 1,
        type: "avaliacao",
        gameTitle: "Elden Ring",
        gamePoster: "https://via.placeholder.com/80x120/005541/FAF7EE?text=Elden+Ring",
        text: "Avaliou",
        rating: 5,
        timestamp: "2 horas atr√°s",
        date: new Date(Date.now() - 2 * 60 * 60 * 1000)
      },
      {
        id: 2,
        type: "jogo-adicionado",
        gameTitle: "God of War",
        gamePoster: "https://via.placeholder.com/80x120/005541/FAF7EE?text=God+of+War",
        text: "Adicionou √† lista 'Quero Jogar'",
        timestamp: "5 horas atr√°s",
        date: new Date(Date.now() - 5 * 60 * 60 * 1000)
      },
      {
        id: 3,
        type: "lista",
        gameTitle: null,
        gamePoster: null,
        text: "Criou a lista 'Melhores RPGs de 2024'",
        timestamp: "1 dia atr√°s",
        date: new Date(Date.now() - 24 * 60 * 60 * 1000)
      },
      {
        id: 4,
        type: "avaliacao",
        gameTitle: "The Witcher 3",
        gamePoster: "https://via.placeholder.com/80x120/005541/FAF7EE?text=Witcher+3",
        text: "Avaliou",
        rating: 4.5,
        timestamp: "2 dias atr√°s",
        date: new Date(Date.now() - 2 * 24 * 60 * 60 * 1000)
      },
      {
        id: 5,
        type: "jogo-adicionado",
        gameTitle: "Zelda: BOTW",
        gamePoster: "https://via.placeholder.com/80x120/005541/FAF7EE?text=Zelda",
        text: "Marcou como 'Jogado'",
        timestamp: "3 dias atr√°s",
        date: new Date(Date.now() - 3 * 24 * 60 * 60 * 1000)
      }
    ];

    const friendsData = [
      { id: 1, name: "Jo√£oGamer", avatar: "üéØ", status: "Online" },
      { id: 2, name: "MariaSilva", avatar: "üåü", status: "Jogando Elden Ring" },
      { id: 3, name: "PedroPlay", avatar: "üéÆ", status: "Offline" },
      { id: 4, name: "AnaGames", avatar: "‚ö°", status: "Online" },
      { id: 5, name: "CarlosRP", avatar: "üî•", status: "Jogando Minecraft" },
      { id: 6, name: "LucasNinja", avatar: "ü•∑", status: "Offline" }
    ];

    // ========================================
    // NAVEGA√á√ÉO SIDEBAR
    // ========================================
    const sidebarItems = document.querySelectorAll('.sidebar-nav-item');
    const sections = document.querySelectorAll('.content-section');

    sidebarItems.forEach(item => {
      item.addEventListener('click', () => {
        const targetSection = item.dataset.section;
        
        // Remove active de todos
        sidebarItems.forEach(i => i.classList.remove('active'));
        sections.forEach(s => s.classList.remove('active'));
        
        // Adiciona active ao clicado
        item.classList.add('active');
        document.getElementById(`${targetSection}-section`).classList.add('active');
      });
    });

    // ========================================
    // SE√á√ÉO PERFIL - EDI√á√ÉO
    // ========================================
    const usernameInput = document.getElementById('usernameInput');
    const emailInput = document.getElementById('emailInput');
    const displayUsername = document.getElementById('displayUsername');
    const displayEmail = document.getElementById('displayEmail');
    const editBtn = document.getElementById('editBtn');
    const saveBtn = document.getElementById('saveBtn');
    const cancelBtn = document.getElementById('cancelBtn');

    let originalUsername = usernameInput.value;
    let originalEmail = emailInput.value;

    editBtn.addEventListener('click', () => {
      usernameInput.disabled = false;
      emailInput.disabled = false;
      editBtn.style.display = 'none';
      saveBtn.style.display = 'inline-block';
      cancelBtn.style.display = 'inline-block';
    });

    saveBtn.addEventListener('click', () => {
      /* 
       * TODO: Conectar com backend
       * Endpoint: PUT /api/user/profile
       * Body: { username: usernameInput.value, email: emailInput.value }
       */
      
      displayUsername.textContent = usernameInput.value;
      displayEmail.textContent = emailInput.value;
      originalUsername = usernameInput.value;
      originalEmail = emailInput.value;

      usernameInput.disabled = true;
      emailInput.disabled = true;
      editBtn.style.display = 'inline-block';
      saveBtn.style.display = 'none';
      cancelBtn.style.display = 'none';

      alert('Perfil atualizado com sucesso!');
    });

    cancelBtn.addEventListener('click', () => {
      usernameInput.value = originalUsername;
      emailInput.value = originalEmail;
      usernameInput.disabled = true;
      emailInput.disabled = true;
      editBtn.style.display = 'inline-block';
      saveBtn.style.display = 'none';
      cancelBtn.style.display = 'none';
    });

    // ========================================
    // SE√á√ÉO ATIVIDADE - RENDERIZA√á√ÉO
    // ========================================
    let currentActivities = [...activitiesData];

    function renderActivities(activities) {
      const timeline = document.getElementById('activityTimeline');
      
      if (activities.length === 0) {
        timeline.innerHTML = '<div class="no-activity">Nenhuma atividade encontrada.</div>';
        return;
      }

      timeline.innerHTML = '';
      
      activities.forEach(activity => {
        const item = document.createElement('div');
        item.className = 'activity-item';
        
        let typeLabel = '';
        switch(activity.type) {
          case 'avaliacao': typeLabel = '‚≠ê Avalia√ß√£o'; break;
          case 'jogo-adicionado': typeLabel = 'üéÆ Jogo'; break;
          case 'lista': typeLabel = 'üìã Lista'; break;
        }

        let activityHTML = `
          <div class="activity-content">
            ${activity.gamePoster ? `<img src="${activity.gamePoster}" alt="${activity.gameTitle}" class="activity-poster">` : ''}
            <div class="activity-details">
              <span class="activity-type">${typeLabel}</span>
              <p class="activity-text">
                ${activity.text}
                ${activity.gameTitle ? `<span class="activity-game-title">${activity.gameTitle}</span>` : ''}
                ${activity.rating ? ` com nota <span class="activity-game-title">${activity.rating}/5</span>` : ''}
              </p>
              <span class="activity-timestamp">${activity.timestamp}</span>
            </div>
          </div>
        `;
        
        item.innerHTML = activityHTML;
        timeline.appendChild(item);
      });
    }

    // Filtro por per√≠odo
    const periodFilters = document.querySelectorAll('[data-period]');
    periodFilters.forEach(btn => {
      btn.addEventListener('click', () => {
        periodFilters.forEach(b => b.classList.remove('active'));
        btn.classList.add('active');
        
        const period = btn.dataset.period;
        filterActivities();
      });
    });

    // Filtro por tipo
    const typeFilters = document.querySelectorAll('[data-type]');
    typeFilters.forEach(btn => {
      btn.addEventListener('click', () => {
        typeFilters.forEach(b => b.classList.remove('active'));
        btn.classList.add('active');
        
        filterActivities();
      });
    });

    function filterActivities() {
      /* 
       * TODO: Conectar com backend
       * Endpoint: GET /api/user/activities?period={period}&type={type}
       */
      
      const activePeriod = document.querySelector('[data-period].active').dataset.period;
      const activeType = document.querySelector('[data-type].active').dataset.type;
      
      let filtered = [...activitiesData];
      
      // Filtrar por per√≠odo
      if (activePeriod !== 'todas') {
        const now = new Date();
        filtered = filtered.filter(activity => {
          const activityDate = activity.date;
          
          switch(activePeriod) {
            case 'hoje':
              return activityDate.toDateString() === now.toDateString();
            case 'semana':
              const weekAgo = new Date(now.getTime() - 7 * 24 * 60 * 60 * 1000);
              return activityDate >= weekAgo;
            case 'mes':
              const monthAgo = new Date(now.getTime() - 30 * 24 * 60 * 60 * 1000);
              return activityDate >= monthAgo;
            default:
              return true;
          }
        });
      }
      
      // Filtrar por tipo
      if (activeType !== 'todos') {
        filtered = filtered.filter(activity => activity.type === activeType);
      }
      
      currentActivities = filtered;
      renderActivities(currentActivities);
    }

    // Renderizar atividades iniciais
    renderActivities(currentActivities);

    // ========================================
    // SE√á√ÉO AMIGOS - RENDERIZA√á√ÉO
    // ========================================
    function renderFriends(friends) {
      /* 
       * TODO: Conectar com backend
       * Endpoint: GET /api/user/friends
       */
      
      const grid = document.getElementById('friendsGrid');
      grid.innerHTML = '';
      
      friends.forEach(friend => {
        const card = document.createElement('div');
        card.className = 'friend-card';
        card.onclick = () => {
          // TODO: Navegar para perfil do amigo
          // window.location.href = `perfil.html?user=${friend.id}`;
          console.log('Navegar para perfil de:', friend.name);
        };
        
        card.innerHTML = `
          <div class="friend-avatar">
            <span>${friend.avatar}</span>
          </div>
          <div class="friend-name">${friend.name}</div>
          <div class="friend-status">${friend.status}</div>
        `;
        
        grid.appendChild(card);
      });
    }

    // Busca de amigos
    const friendsSearch = document.getElementById('friendsSearch');
    friendsSearch.addEventListener('input', (e) => {
      const searchTerm = e.target.value.toLowerCase();
      const filtered = friendsData.filter(friend => 
        friend.name.toLowerCase().includes(searchTerm)
      );
      renderFriends(filtered);
    });

    // Renderizar amigos iniciais
    renderFriends(friendsData);

    // ========================================
    // CARREGAR DADOS DO PERFIL
    // ========================================
    function loadUserProfile() {
      /* 
       * TODO: Conectar com backend
       * Endpoint: GET /api/user/profile
       * Substituir userData pelos dados reais da API
       */
      
      // Atualizar estat√≠sticas
      document.getElementById('statGamesPlayed').textContent = userData.stats.gamesPlayed;
      document.getElementById('statReviews').textContent = userData.stats.reviews;
      document.getElementById('statLists').textContent = userData.stats.lists;
      document.getElementById('statAvgRating').textContent = userData.stats.avgRating;
    }

    // Carregar perfil ao iniciar
    loadUserProfile();

    // ========================================
    // INDICADORES DE CARREGAMENTO
    // ========================================
    
    /* 
     * Fun√ß√£o auxiliar para mostrar loading
     * Usar quando fizer requisi√ß√µes ao backend
     */
    function showLoading(element) {
      const loader = document.createElement('div');
      loader.className = 'loading';
      loader.innerHTML = '<p style="text-align: center; color: #FAF7EE; padding: 40px;">Carregando...</p>';
      element.innerHTML = '';
      element.appendChild(loader);
    }

    /* 
     * EXEMPLO DE USO COM API:
     * 
     * async function loadActivities() {
     *   const timeline = document.getElementById('activityTimeline');
     *   showLoading(timeline);
     *   
     *   try {
     *     const response = await fetch('/api/user/activities');
     *     const data = await response.json();
     *     renderActivities(data.activities);
     *   } catch (error) {
     *     console.error('Erro ao carregar atividades:', error);
     *     timeline.innerHTML = '<p>Erro ao carregar atividades.</p>';
     *   }
     * }
     */
  </script>
</body>
</html>
